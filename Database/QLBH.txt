
use QLBH 

create table KHACHHANGMOi
(
	MAKH char(4) Primary key,
	HOTEN varchar(40) not null,
	DCHI varchar (80) not null,
	SODT varchar(15), 
	NGSINH date,
	DOANHSO money,
	NGDK date
)

create table NHANVIEN
(
	MANV char(4) PRiMARY KEY,
	HOTEN varchar(40) not null,
	NGVL date,
	SODT varchar(15)
)

create table SANPHAM
(
	MASP char(4) primary key,
	TENSP varchar(40)not null,
	DVT varchar(20) not null,
	NUOCSX varchar(40) not null,
	GIA money not null,
)

create table HOADON
(
	SOHD int primary key,
	NGHD smalldatetime not null,
	MAKH char(4),
	MANV char(4),
	TRIGIA money,
	constraint fk_hoadon_khachhang foreign key(MAKH) references KHACHHANG(MAKH),
	constraint fk_hoadon_nhanvien foreign key(MANV) references NHANVIEN(MANV)
)

create table CTHD
(
	SOHD int ,
	MASP char(4),
	SL int
	constraint fk_cthd primary key(SOHD,MASP),
	constraint fk_cthd_hoadon foreign key(SOHD) references HOADON(SOHD),
	constraint fk_cthd_sanpham foreign key(MASP) references SANPHAM(MASP)
)

